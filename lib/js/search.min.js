function autocomplete(e,t){function n(t){if(!t)return!1;a(t),i>=t.length&&(i=0),i<0&&(i=t.length-1),t[i].classList.add("autocomplete-active"),e.value=t[i].textContent}function a(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}function o(t){for(var n=document.getElementsByClassName("autocomplete-items"),a=0;a<n.length;a++)t!=n[a]&&t!=e&&n[a].parentNode.removeChild(n[a])}var i;const l=100;e.addEventListener("input",function(n){var a,s,u,r=this.value;if(o(),!r)return!1;i=-1,a=document.createElement("DIV"),a.setAttribute("id",this.id+"autocomplete-list"),a.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(a);let c=0;for(u=0;u<t.length;u++)if(-1!=t[u].toLowerCase().indexOf(r.toLowerCase())){if(c==l)break;c++,s=document.createElement("DIV"),s.textContent+=t[u],s.innerHTML+="<input type='hidden' value='"+t[u]+"'>",s.addEventListener("click",function(t){e.value=this.getElementsByTagName("input")[0].value,o(),$("#search-form").submit()}),a.appendChild(s)}}),e.addEventListener("keydown",function(t){var a=document.getElementById(this.id+"autocomplete-list");a&&(a=a.getElementsByTagName("div")),40==t.keyCode?(i++,n(a)):38==t.keyCode?(i--,n(a)):13==t.keyCode&&(t.preventDefault(),""!=e.value&&(o(),$("#search-form").submit()))}),document.addEventListener("click",function(e){o(e.target)})}const handleSearch=(e,t)=>{const n=$(".search")[0];$("#search-form").submit(a=>{a.preventDefault();let o=allCounties[n.value.toUpperCase()],i=e[0][o];if(i){let n=t.filter(e=>e.state==i.state);info(i,e,n)}else alert('County not found. Please enter in form "county, state"');n.value=""})};autocomplete($(".search")[0],Object.keys(allCounties));
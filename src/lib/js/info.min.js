const handleUrls=e=>`<a href=${e} rel="noopener" rel="noreferrer" target="_blank">(View source)</a>`,handleDates=e=>{let a="";for(let t=0;t<e.length;t++)a+=e[t],3!=t&&5!=t||(a+="-");return`<span class='red'>${a}</span>`},addEmphasis=e=>`<span class='highlight'>${e}</span>`,cleanGuidelines=e=>{let a=e.split(" ");for(let e=0;e<a.length;e++)"http"==a[e].slice(0,4)?a[e]=handleUrls(a[e]):-1!=a[e].indexOf("2020")?(a[e]=handleDates(a[e]),"On"==a[e-1]&&(a[e-2]+="<br><br>")):"covering"!==a[e]&&-1===a[e].indexOf("mask")&&-1===a[e].indexOf("travel")&&-1===a[e].indexOf("gather")||(a[e]=addEmphasis(a[e]));return a.join(" ")},displayGuidelineData=e=>{const a=$(".state-guidelines").html("");e.forEach(e=>{let t=e.notes;-1==t.indexOf("mask")&&-1==t.indexOf("travel")&&-1==t.indexOf("cover")||a.append(`<li>${cleanGuidelines(t)}</li>`)})},hideInfo=()=>{$(".info-container").css({display:"none"}),$("#modal-mask").css({display:"none"})},dataTable=(e,a)=>{$("#weekly-data").text("").append("<tr><th>Date (yyyy/mm/dd)</th><th>Cases (+Daily Increase)</th><th>Deaths</th></tr>");for(let t=a.length-1;t>=0;t--){let n=a[t][e];$("#weekly-data").append(`<tr>\n                    <td>${n.date}</td>\n                    <td>${parseInt(n.cases).toLocaleString()} <span class=${n.increase>0?"red":"green"}>(+${n.increase})</span></td>\n                    <td>${parseInt(n.deaths).toLocaleString()}</td>\n                </tr>`)}},generalInfo=e=>{$("#info-county").text(`${e.countyName}, `),$("#info-state").text(`${e.state}`);let a=0,t=setInterval(()=>{a>e.cases&&(a=e.cases,clearInterval(t)),$("#info-cases").text(`${parseInt(a).toLocaleString()}`),a+=e.cases/100},2);$("#source").attr("href",sources[e.state]).text("View Current Travel Advisories Here"),$("#info-deaths").text(`${parseInt(e.deaths).toLocaleString()}`),$(".info-general").html(`<p>Population: <span class="highlight">${parseInt(e.population).toLocaleString()}</span></p>\n            <p>Cases Per Capita: <span class="highlight">${e.casesPerCapita}</span></p>\n            <p>Daily Increase/100k: <span class="highlight">${e.dailyIncrease100k}</span></p>\n            <p>Weekly Increase Per Capita: <span class="highlight">${e.weeklyIncreasePerCapita}</span></p>\n            <p>Death Rate: <span class="highlight">${e.deathsPerCase}%</span></p>`)},info=(e,a,t)=>{e.cases?(hideAbout(),$(".info-container").css({display:"block"}),generalInfo(e),dataTable(e.fips,a),displayGuidelineData(t),$(".exit").click(hideInfo)):alert('County not found. Please enter in form "county, state"')},showAbout=()=>{$(".about-container").css({display:"block"}),$(".exit").click(hideAbout)},hideAbout=()=>{$(".about-container").css({display:"none"})};showAbout(),$("#nav-about").click(()=>{showAbout(),hideInfo()});